# =============================================================================
# SERVICE: myapp (ClusterIP — internal only)
# ClusterIP = only accessible inside the cluster.
# External access comes from the NGINX Ingress (3-ingress.yaml) which routes
# traffic from the NLB → NGINX pod → this service.
# =============================================================================
---
apiVersion: v1
kind: Service
metadata:
  name: myapp
  namespace: 8-example
spec:
  type: ClusterIP                  # Internal only — NGINX Ingress handles external access
  ports:
    - port: 8080                   # Port the Service listens on
      targetPort: http             # Routes to the pod's named port "http"
  selector:
    app: myapp
